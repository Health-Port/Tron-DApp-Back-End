<div class="page-layout simple">

    <div id="in-title" fxLayout="column" fxLayoutAlign="center center">
        <div class="big-title" fxLayout="column" fxLayout.gt-md="row">
            <div fxFlex="100" fxFlex.gt-xs="100" fxFlex.gt-sm="100">
                <h1>Allergies</h1>
            </div>
        </div>
    </div>
    <div id="in-contact" fxLayout="column" fxLayoutAlign="center center">
        <div class="contents" fxLayout="column" fxLayoutAlign="center left">
            <form [formGroup]="allergyForm">
                <div formArrayName="allergies">
                    <div *ngFor="let item of allergyData.controls; let pointIndex=index" [formGroupName]="pointIndex" fxLayout="column" fxLayout.gt-md="row">
                        <div class="content-items" fxFlex="31" fxFlex.gt-xs="31" fxFlex.gt-sm="31">
                            <p *ngIf="isVisible(pointIndex)">Substance</p>
                            <input formControlName="substance" class="abtxt" type="text"  placeholder="Enter text" />
                        </div>
                        <div class="content-items" fxFlex="25" fxFlex.gt-xs="25" fxFlex.gt-sm="25">
                            <p *ngIf="isVisible(pointIndex)">Category</p>
                            <select required class="abtxt" name="one" formControlName="category">
                                <option value="" disabled selected hidden >Select</option>
                                <option *ngFor="let cat of categories" [ngValue]="cat.name">{{cat.name}}
                            </select>
                        </div>
                        <div class="content-items" fxFlex="19" fxFlex.gt-xs="19" fxFlex.gt-sm="19">
                            <p *ngIf="isVisible(pointIndex)">Severity</p>
                            <select  class="abtxt" name="one" formControlName="severity">
                                <option value="" disabled="disabled" >Select</option>
                                <option *ngFor="let severity of severities" [ngValue]="severity.description">{{severity.description}}
                            </select>
                        </div>
                        <div class="content-items" fxFlex="25" fxFlex.gt-xs="25" fxFlex.gt-sm="25">
                            <p *ngIf="isVisible(pointIndex)">Reactions</p>
                            <input formControlName="reactions" class="abtxt" type="text" placeholder="Enter text" />
                        </div>
                    </div>
                </div>
            </form>
            <!-- <form [formGroup]="allergyForm">
                <div formArrayName="allergies">
                    <div *ngFor="let item of allergyData.controls; let pointIndex=index" [formGroupName]="pointIndex" class="large-1280" fxLayout="column" fxLayout.gt-md="row">
                        <div class="content-items" fxFlex="31" fxFlex.gt-xs="31" fxFlex.gt-sm="31">
                            <input formControlName="substance" class="abtxt" type="text"  placeholder="Enter text" />
                        </div>
                        <div class="content-items" fxFlex="25" fxFlex.gt-xs="25" fxFlex.gt-sm="25">
                            <select  class="abtxt" name="one" formControlName="category">
                                <option value="" disabled="disabled" >Select</option>
                                <option *ngFor="let cat of categories" [ngValue]="cat.name">{{cat.name}}
                            </select>
                        </div>
                        <div class="content-items" fxFlex="19" fxFlex.gt-xs="19" fxFlex.gt-sm="19">
                            <select  class="abtxt" name="one" formControlName="severity">
                                <option value="" disabled="disabled" >Select</option>
                                <option *ngFor="let severity of severities" [ngValue]="severity.description">{{severity.description}}
                            </select>
                        </div>
                        <div class="content-items" fxFlex="25" fxFlex.gt-xs="25" fxFlex.gt-sm="25">
                            <input formControlName="reactions" class="abtxt" type="text" placeholder="Enter text" />
                        </div> 
                    </div>
                </div>
                <div fxLayout="column" fxLayout.gt-md="row"  fxLayoutAlign="center center">
                    <div class="content-items" fxFlex="100" fxFlex.gt-xs="100" fxFlex.gt-sm="100" fxLayoutAlign="center center">
                        <button mat-raised-button (click)="addMore()" class="btn-mcolor-green btn-addmore">ADD MORE</button>
                    </div>
                </div>
            </form> -->
            {{allergyData.value | json}}
            <div fxLayout="column" fxLayout.gt-md="row"  fxLayoutAlign="center center">
                <div class="content-items" fxFlex="100" fxFlex.gt-xs="100" fxFlex.gt-sm="100" fxLayoutAlign="center center">
                    <button mat-raised-button (click)="addMore()" class="btn-mcolor-green btn-addmore">ADD MORE</button>
                </div>
            </div>
            <div fxLayout="column" fxLayout.gt-md="row">
                <div class="content-items" fxFlex="100" fxFlex.gt-xs="100" fxFlex.gt-sm="100">
                    <mat-checkbox class="chk-know" >NO KNOWN ALLERGIES</mat-checkbox>
                </div>
            </div>
            <div fxLayout="column" fxLayout.gt-md="row"  fxLayoutAlign="center center">
                <div class="content-items" fxFlex="100" fxFlex.gt-xs="100" fxFlex.gt-sm="100" fxLayoutAlign="center center">
                    <button mat-raised-button class="btn-mcolor-green width-full">DOCUMENT ALLERGIES</button>
                </div>
            </div>
        </div>
    </div>
    
</div>
